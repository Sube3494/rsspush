# RSS æ¨é€æ’ä»¶

ä¸€ä¸ªåŠŸèƒ½å®Œå–„çš„ RSS è®¢é˜…æ¨é€æ’ä»¶ï¼Œæ”¯æŒå¤šå¹³å°ã€å®šæ—¶æ¨é€ã€å†…å®¹è¿‡æ»¤ç­‰é«˜çº§åŠŸèƒ½ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½
- âœ… **è®¢é˜…ç®¡ç†** - æ·»åŠ ã€åˆ é™¤ã€å¯ç”¨/ç¦ç”¨ RSS è®¢é˜…
- âœ… **å¤šæºæ”¯æŒ** - æ”¯æŒ RSSHubã€æ ‡å‡† RSS/Atom æº
- âœ… **æ™ºèƒ½æ¨é€** - è‡ªåŠ¨å»é‡ã€è½®è¯¢æ£€æŸ¥ã€å®šæ—¶æ¨é€
- âœ… **å¤šç›®æ ‡æ¨é€** - æ”¯æŒæ¨é€åˆ°ä¸ªäººã€ç¾¤ç»„ã€å¤šä¸ªç›®æ ‡

### é«˜çº§åŠŸèƒ½
- ğŸ¨ **è‡ªå®šä¹‰æ¨¡æ¿** - æ”¯æŒè‡ªå®šä¹‰æ¶ˆæ¯æ ¼å¼æ¨¡æ¿
- ğŸ–¼ï¸ **å›¾ç‰‡æ¨é€** - è‡ªåŠ¨æå–å’Œæ¨é€RSSä¸­çš„å›¾ç‰‡
- ğŸ” **å†…å®¹è¿‡æ»¤** - æ”¯æŒå…³é”®è¯ç™½åå•/é»‘åå•
- ğŸ“Š **ç»Ÿè®¡é¢æ¿** - æŸ¥çœ‹æ¨é€ç»Ÿè®¡å’ŒæˆåŠŸç‡
- â° **é™é»˜æ—¶æ®µ** - é…ç½®å¤œé—´é™é»˜ï¼Œé¿å…æ‰“æ‰°
- ğŸ¯ **é¢‘ç‡é™åˆ¶** - é˜²æ­¢é«˜é¢‘æ›´æ–°æºåˆ·å±

## ğŸ“¦ å®‰è£…

### å‰ææ¡ä»¶
- AstrBot v4.5.0 æˆ–æ›´é«˜ç‰ˆæœ¬
- Python 3.8+

### å®‰è£…æ­¥éª¤

1. å…‹éš†æˆ–ä¸‹è½½æ’ä»¶åˆ° `data/plugins/` ç›®å½•ï¼š
```bash
cd data/plugins
git clone <your-repo-url> rsspush
```

2. é‡å¯ AstrBot æˆ–åœ¨ WebUI ä¸­é‡è½½æ’ä»¶

3. æ’ä»¶ä¼šè‡ªåŠ¨å®‰è£…ä¾èµ–åŒ…

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. è®¾ç½®ç®¡ç†å‘˜

é¦–æ¬¡ä½¿ç”¨éœ€è¦è®¾ç½®ç®¡ç†å‘˜æƒé™ï¼š

```bash
/sid                 # è·å–ä½ çš„ç”¨æˆ·ID
/op <ä½ çš„user_id>    # è®¾ç½®ä¸ºç®¡ç†å‘˜
```

### 2. æ·»åŠ è®¢é˜…

```bash
# æ·»åŠ  RSSHub è®¢é˜…
/rss add https://rsshub.app/bilibili/user/video/2 Bç«™UPä¸»

# æ·»åŠ æ ‡å‡† RSS è®¢é˜…
/rss add https://example.com/feed.xml ç¤ºä¾‹ç½‘ç«™

# RSSHub è·¯ç”±å¿«æ·æ–¹å¼
/rss add /bilibili/user/video/2 Bç«™UPä¸»
```

### 3. æŸ¥çœ‹è®¢é˜…

```bash
/rss list            # æŸ¥çœ‹æ‰€æœ‰è®¢é˜…
/rss info <ID>       # æŸ¥çœ‹è®¢é˜…è¯¦æƒ…
/rss stats           # æŸ¥çœ‹ç»Ÿè®¡ä¿¡æ¯
```

### 4. æµ‹è¯•æ¨é€

```bash
/rss test <ID>       # æµ‹è¯•æ¨é€æœ€æ–°å†…å®¹
/rss update <ID>     # ç«‹å³æ£€æŸ¥æ›´æ–°
```

## ğŸ“– å‘½ä»¤åˆ—è¡¨

### è®¢é˜…ç®¡ç†

| å‘½ä»¤ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `/rss add <url> [åç§°]` | æ·»åŠ RSSè®¢é˜… | `/rss add https://rsshub.app/... è®¢é˜…å` |
| `/rss del <ID>` | åˆ é™¤è®¢é˜… | `/rss del abc123` |
| `/rss list` | æŸ¥çœ‹æ‰€æœ‰è®¢é˜… | `/rss list` |
| `/rss info <ID>` | æŸ¥çœ‹è®¢é˜…è¯¦æƒ… | `/rss info abc123` |
| `/rss enable <ID>` | å¯ç”¨è®¢é˜… | `/rss enable abc123` |
| `/rss disable <ID>` | ç¦ç”¨è®¢é˜… | `/rss disable abc123` |

### æ¨é€æ§åˆ¶

| å‘½ä»¤ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `/rss test <ID>` | æµ‹è¯•æ¨é€ | `/rss test abc123` |
| `/rss update <ID>` | ç«‹å³æ£€æŸ¥æ›´æ–° | `/rss update abc123` |
| `/rss update all` | æ£€æŸ¥æ‰€æœ‰è®¢é˜… | `/rss update all` |

### å…¶ä»–

| å‘½ä»¤ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `/rss stats [ID]` | æŸ¥çœ‹ç»Ÿè®¡ | `/rss stats` |
| `/rss help` | æŸ¥çœ‹å¸®åŠ© | `/rss help` |

## âš™ï¸ é…ç½®è¯´æ˜

æ’ä»¶é…ç½®æ–‡ä»¶ï¼š`data/plugins/rsspush/config.yaml`

### åŸºç¡€é…ç½®

```yaml
# è½®è¯¢é…ç½®
polling:
  interval: 30      # è½®è¯¢é—´éš”ï¼ˆåˆ†é’Ÿï¼‰
  enabled: true     # æ˜¯å¦å¯ç”¨è½®è¯¢

# æ¨é€é…ç½®
push:
  max_items_per_push: 1    # å•æ¬¡æ¨é€æœ€å¤§æ¡ç›®æ•°
  batch_interval: 3        # æ‰¹é‡æ¨é€é—´éš”ï¼ˆç§’ï¼‰

# å»é‡é…ç½®
deduplication:
  enabled: true
  time_window: 7    # å»é‡æ—¶é—´çª—å£ï¼ˆå¤©ï¼‰
```

### æ¶ˆæ¯æ¨¡æ¿

```yaml
template:
  default: |
    ğŸ”” {name}
    
    ğŸ“° {title}
    ğŸ• {pubDate}
    
    ğŸ“ {description}
    
    ğŸ”— {link}
```

æ”¯æŒçš„å˜é‡ï¼š
- `{name}` - è®¢é˜…åç§°
- `{title}` - æ–‡ç« æ ‡é¢˜
- `{link}` - æ–‡ç« é“¾æ¥
- `{description}` - æ–‡ç« æ‘˜è¦
- `{pubDate}` - å‘å¸ƒæ—¶é—´
- `{author}` - ä½œè€…

### RSSHub é…ç½®

```yaml
rsshub:
  default_instance: "https://rsshub.app"  # RSSHub å®ä¾‹åœ°å€
```

### é«˜çº§é…ç½®

```yaml
# é™é»˜æ—¶æ®µ
silent_hours:
  enabled: false
  start: "23:00"
  end: "07:00"

# é¢‘ç‡é™åˆ¶
rate_limit:
  enabled: false
  max_pushes_per_hour: 10
```

## ğŸ’¡ ä½¿ç”¨æŠ€å·§

### 1. ID éƒ¨åˆ†åŒ¹é…

è®¢é˜… ID æ”¯æŒéƒ¨åˆ†åŒ¹é…ï¼Œåªéœ€è¾“å…¥å‰å‡ ä½å³å¯ï¼š

```bash
/rss info abc        # åŒ¹é… abc12345...
/rss del abc1        # åŒ¹é… abc12345...
```

### 2. RSSHub å¿«æ·æ–¹å¼

æ”¯æŒ RSSHub è·¯ç”±å¿«æ·æ–¹å¼ï¼Œè‡ªåŠ¨è¡¥å…¨åŸŸåï¼š

```bash
/rss add /bilibili/user/video/2 Bç«™UPä¸»
# è‡ªåŠ¨è½¬æ¢ä¸º: https://rsshub.app/bilibili/user/video/2
```

### 3. å¤šç›®æ ‡æ¨é€

æ·»åŠ è®¢é˜…æ—¶ä¼šè‡ªåŠ¨æ¨é€åˆ°å½“å‰ä¼šè¯ï¼Œä¹Ÿå¯ä»¥é€šè¿‡é…ç½®æ·»åŠ æ›´å¤šæ¨é€ç›®æ ‡ã€‚

### 4. å†…å®¹è¿‡æ»¤

å¯ä»¥åœ¨è®¢é˜…é…ç½®ä¸­è®¾ç½®å…³é”®è¯è¿‡æ»¤ï¼š

```yaml
filters:
  whitelist: ["å…³é”®è¯1", "å…³é”®è¯2"]  # ç™½åå•
  blacklist: ["å±è”½è¯"]              # é»‘åå•
  use_regex: false                    # æ˜¯å¦ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼
```

## ğŸ“‚ æ•°æ®å­˜å‚¨

æ’ä»¶æ•°æ®å­˜å‚¨åœ¨ `data/plugins/rsspush/` ç›®å½•ï¼š

```
data/plugins/rsspush/
â”œâ”€â”€ subscriptions.json    # è®¢é˜…é…ç½®
â”œâ”€â”€ pushed_items.db       # å·²æ¨é€è®°å½•ï¼ˆSQLiteï¼‰
â”œâ”€â”€ cache/                # RSS ç¼“å­˜
â””â”€â”€ logs/                 # é”™è¯¯æ—¥å¿—
```

âš ï¸ **é‡è¦ï¼š** æ›´æ–°æ’ä»¶å‰è¯·å¤‡ä»½æ­¤ç›®å½•ï¼

## ğŸ”§ æ•…éšœæ’é™¤

### è®¢é˜…æ— æ³•æ·»åŠ 

1. æ£€æŸ¥ RSS åœ°å€æ˜¯å¦æ­£ç¡®
2. ç¡®è®¤ç½‘ç»œè¿æ¥æ­£å¸¸
3. æŸ¥çœ‹æ—¥å¿—ï¼š`astrbot.log`

### æ²¡æœ‰æ”¶åˆ°æ¨é€

1. ç¡®è®¤è®¢é˜…å·²å¯ç”¨ï¼š`/rss list`
2. æ£€æŸ¥è½®è¯¢æ˜¯å¦å¯åŠ¨ï¼šé…ç½®æ–‡ä»¶ä¸­ `polling.enabled`
3. æ‰‹åŠ¨æµ‹è¯•æ¨é€ï¼š`/rss test <ID>`
4. æŸ¥çœ‹è®¢é˜…ç»Ÿè®¡ï¼š`/rss stats <ID>`

### RSS è§£æå¤±è´¥

1. ç¡®è®¤ RSS æºæ ¼å¼æ­£ç¡®
2. æ£€æŸ¥ç¼–ç é—®é¢˜
3. æŸ¥çœ‹é”™è¯¯ä¿¡æ¯ï¼š`/rss info <ID>`

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ”— ç›¸å…³é“¾æ¥

- [AstrBot æ–‡æ¡£](https://docs.astrbot.app)
- [RSSHub æ–‡æ¡£](https://docs.rsshub.app)
- [æ’ä»¶å¼€å‘æŒ‡å—](https://docs.astrbot.app/dev/star/plugin-new.html)

---

**ä½œè€…:** Sube  
**ç‰ˆæœ¬:** v1.0.0  
**ä»“åº“:** https://github.com/Soulter/astrbot-plugin-rsspush
